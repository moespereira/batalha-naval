Batalha Naval Multicliente com Sockets
ApresentaÃ§Ã£o
Este projeto propÃµe a implementaÃ§Ã£o de uma versÃ£o simplificada do clÃ¡ssico jogo Batalha Naval, utilizando comunicaÃ§Ã£o via sockets TCP em C. Dois clientes se conectam a um servidor central, que gerencia o emparelhamento e o controle da partida.

Objetivos
Aplicar conceitos de programaÃ§Ã£o concorrente e distribuÃ­da com sockets.
Praticar controle de mÃºltiplos clientes em um servidor centralizado.
Implementar um protocolo de comunicaÃ§Ã£o customizado.
Garantir robustez e sincronizaÃ§Ã£o em uma aplicaÃ§Ã£o em tempo real.
Garantir que o jogo utilize multipla threads, semaforos e outros meios de computaÃ§Ã£o concorrente.
Regras do Jogo
Tabuleiro: 8x8 posiÃ§Ãµes.
Navios:
1 Ã— Submarino (tamanho 1)
2 Ã— Fragatas (tamanho 2)
1 Ã— Destroyer (tamanho 3)
Turnos alternados entre jogadores.
Jogada vÃ¡lida: coordenada (ex: "B4").
Resultado: Ã¡gua, acerto ou afundamento.
VitÃ³ria: ao afundar todos os navios do adversÃ¡rio.
Estrutura de DiretÃ³rios
battleship/ â”œâ”€â”€ client/ # CÃ³digo do cliente â”œâ”€â”€ server/ # CÃ³digo do servidor â”œâ”€â”€ common/ # DefiniÃ§Ãµes comuns (protocol.h) â”œâ”€â”€ Makefile # CompilaÃ§Ã£o â””â”€â”€ README.md # InstruÃ§Ãµes

CompilaÃ§Ã£o
Use o comando make na raiz do projeto.

ExecuÃ§Ã£o
Compile com make
Execute ./server/battleserver
Execute ./client/battleclient em duas instÃ¢ncias
ğŸ”„ Protocolo de ComunicaÃ§Ã£o â€“ Diagrama e ExplicaÃ§Ã£o
1. Comando JOIN
[ Cliente A ]                          [ Servidor ]                          [ Cliente B ]
     | -------- "JOIN <nome_A>" ----------> |                                      |
     |                                      | <-------- "AGUARDE JOGADOR" -------- |
     |                                      | <-------- "JOIN <nome_B>" ---------- |
     |                                      | -------- "JOGO INICIADO" --------->  |
     | <-------- "JOGO INICIADO" ---------- | -------- "JOGO INICIADO" --------->  |
     | <-------- "VocÃª Ã© o Jogador 1" ----- | -------- "VocÃª Ã© o Jogador 2" -----> |
DescriÃ§Ã£o: Os clientes enviam JOIN <nome> para se registrarem no servidor. Quando dois clientes estÃ£o conectados, o servidor envia JOGO INICIADO e define os papÃ©is (Jogador 1 e 2).

2. Comando READY
[ Cliente A ]                           [ Servidor ]                           [ Cliente B ]
     | -------- "READY" -------------------> |                                       |
     | <------ "AGUARDANDO ADVERSÃRIO" -----| -- "AGUARDANDO ADVERSÃRIO" --------> |
     |                                       | <------------------- "READY" --------|
     | <--------- "INÃCIO DO JOGO" --------- | --------- "INÃCIO DO JOGO" --------> |
     | <------ "Seu turno!" (Jogador 1) ---- | ---- "Aguarde o turno do outro" ---> |
DescriÃ§Ã£o: ApÃ³s posicionar os navios, cada cliente envia READY. O jogo sÃ³ comeÃ§a quando ambos estiverem prontos. O servidor entÃ£o informa quem comeÃ§a o jogo.

3. Comando POS <tipo> <x> <y> <orientacao>
Exemplo:

POS FRAGATA 2 5 H
DescriÃ§Ã£o: Usado durante a fase de posicionamento. Cada cliente envia vÃ¡rias mensagens POS para informar as posiÃ§Ãµes de seus navios. O servidor valida e armazena cada navio.

4. Comando FIRE <x> <y>
[ Jogador Ativo ] ---> "FIRE 3 4" ---> [ Servidor ] ---> "HIT"/"MISS"/"SUNK" ---> [ Ambos ]
DescriÃ§Ã£o: Durante seu turno, o jogador envia FIRE com a coordenada do ataque. O servidor responde:

HIT: acerto em navio
MISS: Ã¡gua
SUNK: navio afundado
O servidor alterna os turnos automaticamente apÃ³s cada ataque.

5. Comandos de Resultado Final
WIN: enviado ao jogador vencedor
LOSE: enviado ao jogador derrotado
FIM: encerra a conexÃ£o apÃ³s o fim da partida
âœ… Exemplo de Fluxo Completo
Cliente A: JOIN Alice
Cliente B: JOIN Bob
Ambos posicionam navios com POS
Ambos enviam READY
Servidor: INÃCIO DO JOGO
Jogadores se alternam com FIRE x y
Servidor envia HIT, MISS, SUNK
Um jogador recebe WIN, outro LOSE
Ambos recebem FIM
6. Comando PLAY
[ Servidor ] ---> "PLAY 1" ---> [ Jogador 1 ]
[ Servidor ] ---> "PLAY 2" ---> [ Jogador 2 ]
DescriÃ§Ã£o: O servidor envia o comando PLAY <id> para indicar qual jogador tem a vez. Esse comando Ã© fundamental para sincronizar os turnos. Apenas o jogador cujo ID foi indicado pode enviar um FIRE.

PLAY 1 â†’ Jogador 1 pode jogar.
PLAY 2 â†’ Jogador 2 pode jogar.
O jogador adversÃ¡rio deve permanecer aguardando.

---> "PLAY" ---> [ Jogador Ativo ]


**DescriÃ§Ã£o:** Enviado pelo servidor ao jogador que deve jogar no momento. Esse comando sinaliza que Ã© o turno do jogador realizar uma jogada com `FIRE x y`.

---

### 7. Comando `END`

```plaintext
[ Servidor ] ---> "END" ---> [ Ambos os Jogadores ]
DescriÃ§Ã£o: Enviado ao final da partida para indicar o encerramento da sessÃ£o. Serve como comando de controle para que os clientes fechem a conexÃ£o e imprimam o resultado final.

Resumo do Protocolo
Comando        Origem         Destino        DescriÃ§Ã£o
JOIN           Cliente        Servidor       Solicita entrada no jogo
READY          Cliente        Servidor       Informa que o jogador posicionou seus navios
POS            Cliente        Servidor       Envia posiÃ§Ã£o de um navio
PLAY           Servidor       Cliente        Informa ao jogador que Ã© seu turno
FIRE           Cliente        Servidor       Realiza ataque a uma coordenada
HIT/MISS/SUNK  Servidor       Ambos jogadores     Informa o resultado de um ataque
WIN/LOSE       Servidor       Cliente        Informa o resultado da partida
END            Servidor       Ambos          Encerra o jogo e a comunicaÃ§Ã£o


ğŸ“ Estrutura Esperada
battleship/
â”œâ”€â”€ client/
â”‚   â””â”€â”€ battleclient.c
â”œâ”€â”€ server/
â”‚   â””â”€â”€ battleserver.c
â”œâ”€â”€ common/
â”‚   â””â”€â”€ protocol.h
â”œâ”€â”€ Makefile
â”œâ”€â”€ README.md
â””â”€â”€ exemplo_execucao.txt   (opcional, mas recomendado)
